截止目前，己经见过了许多关于类和函数的特性，但是它们全部要求在使用这些类和函数的时候说明它们的确切名称，作为程序代码的一部分。要调用一个函 数，需要知道它定义在哪个类中，还有它的名称和参数的类型。注解和反射提供了超越这个规则的能力，并可以编写出使用事先未知的任意类的代码。可以使用注解赋予这些类库特定的语义，而反射允许在运行时分析这些类的结构。



应用注解非常直截了当。但编写自己的注解尤其是编写处理它们的代码，就没有这么简单了 。 使用注解的语法和 `Java` 完全一样，而声明自己注解类的语法却略有不同。反射 `API` 的大体结构与 `Java` 相仿，但细节存在差异。



作为注解和反射用法的演示，将会浏览一个真实项目的实现： 一个叫作 `JKid` 的库，用来序列化和反序列化 `JSON`。这个库在运行时用反射访问任意的`Kotlin` 对象，同时还根据 `JSON` 文件中提供的数据创建对象。注解则可以定制具体的类和属性是如何被这个库序列化和反序列化的。



# 声明并应用注解

绝大多数现代 的 `Java` 框架都大量地使用了注解。`Kotlin` 中的核心概念是一样的 。一个注解允许把额外的元数据关联到一个声明上。然后元数据就可以被相关的源代码工具访问，通过编译好的类文件或是在运行时，取决于这个注解是如何配置的 。



## 应用注解

在 `Kotlin` 中使用注解的方法和 `Java` 一样。要应用一个注解，以`＠`字符作为（注解）名字的前缀，并放在要注解的声明最前面。可以注解不同的代码元素，比如函数和类 。



例如，如果正在使用 `JUnit` 框架（ `http://junit.org/junit4/`） ，可以用`＠Test` 标记一个测试方法：

```kotlin
import org.junit.*

class MyTest{
	// @Test注解指引JUnit框架把这个方法当测试调用
	@Test fun testTrue(){
		Assert.assertTrue(true)
	}
}
```

